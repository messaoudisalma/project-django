{% extends "./base.html" %}
{% load static %}
{% block title %}Store - Low Prices in Books & more{% endblock %}
{% block content %}

    <!-- Page Content -->
    <!-- Banner Starts Here -->
    <div class="banner header-text">
        <div class="owl-banner owl-carousel">
            <div class="banner-item-01">
                <div class="text-content">
                    <h4>Best Offer</h4>
                    <h2>Get Your New Book With The Best Price</h2>
                </div>
            </div>
            <div class="banner-item-02">
                <div class="text-content">
                    <h4>Find Your Next Book</h4>
                    <h2>To Succeed You Must Read</h2>
                </div>
            </div>
            <div class="banner-item-03">
                <div class="text-content">
                    <h4>Last Minute</h4>
                    <h2>Grab last minute deals</h2>
                </div>
            </div>
        </div>
    </div>
      <!-- Banner Ends Here -->

    <div class="row feature_box">						
        <div class="span4">
            <div class="service">
                <div class="responsive">	
                    <img src="{% static 'store/themes/images/feature_img_2.png' %}" alt="" />
                    <h5>SECURE <strong>PAYEMENT</strong></h5>							
                </div>
            </div>
        </div>
        <div class="span4">	
            <div class="service">
                <div class="customize">			
                    <img src="{% static 'store/themes/images/feature_img_1.png' %}" alt="" />
                    <h5>BEST <strong>PRODUCTS</strong></h5>
                </div>
            </div>
        </div>
        <div class="span4">
            <div class="service">
                <div class="support">	
                    <img src="{% static 'store/themes/images/feature_img_3.png' %}" alt="" />
                    <h5>24/7 LIVE <strong>SUPPORT</strong></h5>
                </div>
            </div>
        </div>	
    </div>	

    <div class="latest-products">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="section-heading" style="margin-bottom: 0;">
                        <h2>Popular</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <style>
                    .custom-border {
                        border: 2px solid #f33f3f;
                    }
                
                    .custom-image-container {
                        display: flex;
                        flex-wrap: wrap;
                    }
                
                    .custom-image-container .col {
                        flex-basis: 20%;
                        max-width: 20%;
                        padding: 0 10px;
                    }
    
                    .custom-image-container .img-fluid {
                        max-width: 160px; /* Ajustez cette valeur en fonction de la taille souhaitée */
                        max-height: 250px; /* Ajustez cette valeur en fonction de la taille souhaitée */
                    }                    
                
                    .read-more-button {
                        display: none;
                        margin-top: 20px;
                        text-align: center;
                    }

                    /* CSS personnalisé pour le bouton "Read More" */
                    .read-more-button .btn {
                        background-color: #f33f3f;
                        color: #ffffff;
                        border: none;
                        border-radius: 5px;
                        padding: 10px 20px;
                        font-size: 16px;
                        font-weight: bold;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        transition: background-color 0.3s ease;
                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                    }

                    .read-more-button .btn:hover {
                        background-color: #d32f2f;
                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
                    }

                    .read-more-button .btn:focus {
                        outline: none;
                    }

                </style>
                
                <div class="album py-5">
                    <div class="custom-image-container" id="imageContainer">
                        {% for product in products %}
                            <div class="col">
                                <div class="card border-0">
                                    <img class="img-fluid img-thumbnail custom-border" alt="Responsive image" src="{{ product.image.url }}">
                                    <div class="card-body px-0">
                                        <p class="card-text">
                                            <a class="text-dark text-decoration-none" href="{{ product.get_absolute_url }}">{{ product.title|slice:":50" }}...</a>
                                        </p>
                                        <div class="fw-bold">${{ product.price }}</div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="read-more-button" id="readMoreButtonContainer">
                        <button class="btn btn-warning" id="readMoreButton">Read More</button>
                    </div>
                </div>
                
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                <script>
                    $(document).ready(function() {
                        var imagesPerPage = 15;
                        var imageContainer = $('#imageContainer');
                        var images = imageContainer.children('.col');
                        var totalImages = images.length;
                        var visibleImages = imagesPerPage;
                
                        // Afficher ou masquer le bouton "Read More"
                        if (totalImages > imagesPerPage) {
                            $('#readMoreButtonContainer').show();
                        } else {
                            $('#readMoreButtonContainer').hide();
                        }
                
                        // Cacher les images excédentes
                        images.slice(visibleImages).hide();
                
                        // Gérer le clic sur le bouton "Read More"
                        $('#readMoreButton').click(function() {
                            visibleImages += imagesPerPage;
                            images.slice(0, visibleImages).show();
                            if (visibleImages >= totalImages) {
                                $('#readMoreButtonContainer').hide();
                            }
                        });
                    });
                </script>
            </div>
        </div>
    </div>    
    
    <div class="best-features">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="section-heading">
                        <h2>About Book Store</h2>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="left-content">
                        <h4>Looking for the best products?</h4>
                        <p><a rel="nofollow" href="/" target="_parent">This BookStore</a> is a comprehensive online bookstore for both books and other products of every point of knowledge, began as an idea to help support bookstores and their communities as more and more people are buying their books online.<a rel="nofollow" href="{% url "store:contact" %}">Contact us</a> for more info.</p>
                        <h4>The purpose of bookstore</h4>
                        <ul class="featured-list">
                            <li><a href="{% url "store:about" %}#ab">Give life to reading</a></li>
                            <li><a href="{% url "store:about" %}#ab">Seed of knowledge</a></li>
                            <li><a href="{% url "store:about" %}#ab">Best for bookworms</a></li>
                        </ul>
                        <a href="{% url "store:about" %}" class="filled-button">Read More</a>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="right-image">
                        <img src="{% static 'store/assets/images/feature-image.jpg' %}" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
